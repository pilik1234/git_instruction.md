(self.webpackChunkasf_ui=self.webpackChunkasf_ui||[]).push([[9061],{4434:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});const s={None:0,Login:1,Password:2,SteamGuard:3,SteamParentalCode:4,TwoFactorAuthentication:5};function o(t){return Object.keys(s).find((e=>s[e]===t))}},6057:(t,e,i)=>{var s=i(1601),o=i(6314)(s);o.push([t.id,".form-item__info{padding-bottom:1em}.button--helper{max-width:2em}",""]),t.exports=o},9061:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var s=function(){var t=this,e=t._self._c;return t.bot?e("main",{staticClass:"main-container"},[e("h2",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.bot.name,expression:"bot.name"}],staticClass:"title"},[t._v(t._s(t.bot.viewableName))]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-item__info"},[t._v(t._s(t.$t(`input-info-${t.inputType}`)))]),t._v(" "),e("div",{staticClass:"form-item__code"},[e("div",[e("label",{staticClass:"form-item__label",attrs:{for:"input"}},[t._v(t._s(t.$t(`input-label-${t.inputType}`)))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-item__input",attrs:{id:"input",type:"password",autocomplete:"new-password"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-item__buttons form-item__buttons--column"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"tooltip"}],staticClass:"button button--helper",on:{click:t.switchInputType}},[t.inputHidden?e("FontAwesomeIcon",{attrs:{icon:"eye",size:"lg"}}):e("FontAwesomeIcon",{attrs:{icon:"eye-slash",size:"lg"}})],1)])]),t._v(" "),e("div",{staticClass:"form-item__buttons form-item__buttons--center"},[e("button",{staticClass:"button button--confirm",on:{click:t.submit}},[t.submitting?e("FontAwesomeIcon",{attrs:{icon:"spinner",spin:""}}):e("span",[t._v(t._s(t.$t("input-submit")))])],1)])])]):t._e()};s._withStripped=!0;var o=i(4434);const n={name:"BotInput",data:()=>({submitting:!1,code:"",inputHidden:!0}),computed:{bot(){return this.$store.getters["bots/bot"](this.$route.params.bot)},inputType(){return this.$route.params.type.toLowerCase()},tooltip(){return this.inputHidden?this.$t("input-switch-show"):this.$t("input-switch-hide")}},created(){this.bot&&this.$route.params.type||this.$router.replace({name:"bots"}),document.addEventListener("keydown",this.onEnterClick)},beforeDestroy(){document.removeEventListener("keydown",this.onEnterClick)},mounted(){document.getElementById("input").focus()},methods:{switchInputType(){this.inputHidden=!this.inputHidden;const t=document.getElementById("input");"password"===t.getAttribute("type")?t.setAttribute("type","text"):t.setAttribute("type","password")},onEnterClick(t){if(13===(t.which?t.which:t.keyCode))return this.submit(),t.preventDefault()},async submit(){if(!this.submitting)if(""!==this.code){this.submitting=!0;try{(0,o.A)(this.bot.requiredInput)===this.$route.params.type&&await this.$http.post(`bot/${this.bot.name}/input`,{type:this.bot.requiredInput,value:this.code}),await this.$http.botAction(this.bot.name,"start"),await this.$store.dispatch("bots/updateBot",{name:this.bot.name,active:!0}),this.$router.back()}catch(t){this.$error(t.message)}finally{this.submitting=!1}}else this.$error(this.$t(`input-no-code-${this.inputType}`))}}};i(9736);const a=(0,i(4486).A)(n,s,[],!1,null,null,null).exports},9736:(t,e,i)=>{var s=i(6057);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,i(534).A)("519b4d59",s,!1,{})}}]);