(self.webpackChunkasf_ui=self.webpackChunkasf_ui||[]).push([[4398],{5670:(t,e,o)=>{"use strict";o.d(e,{A:()=>n});var s=o(5471),a=o(6123),i=o.n(a);function n(){const t=i().getSupportedLanguages(),{locale:e,noRegionalLocale:o}=s.Ay.i18n;switch(e){case"zh-CN":return"zh_CN";case"zh-TW":case"zh-HK":return"zh_TW";default:return t.includes(o)?o:"en"}}},4434:(t,e,o)=>{"use strict";o.d(e,{A:()=>a});const s={None:0,Login:1,Password:2,SteamGuard:3,SteamParentalCode:4,TwoFactorAuthentication:5};function a(t){return Object.keys(s).find((e=>s[e]===t))}},7679:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,".bots{display:grid;grid-gap:1em;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));min-height:0}@media screen and (max-width: 1366px){.bots{grid-template-columns:repeat(auto-fill, minmax(250px, 1fr))}}@media screen and (max-width: 400px){.bots{grid-template-columns:1fr}}.bot-placeholder{align-items:center;background:var(--color-background-light);border-radius:0 0 4px 4px;border-top:3px solid var(--color-status);cursor:pointer;display:flex;height:2.25em;justify-content:center;padding:.5em;transition:border .3s}.bot-placeholder--big{font-size:1.25rem;height:auto}.bot-placeholder__button{align-items:center;display:flex}.bot-placeholder__name{font-size:.8em;font-weight:600}.bot-placeholder__icon{margin-right:.5em}",""]),t.exports=a},1266:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,".bot-filter{height:fit-content;text-align:center}.bot-filter__reset{cursor:pointer;color:var(--color-theme)}",""]),t.exports=a},216:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,".info-cards{display:grid;grid-gap:1em;grid-template-columns:repeat(3, 1fr)}@media screen and (max-width: 600px){.info-cards{grid-template-columns:1fr}}",""]),t.exports=a},8377:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,".info-card{background:var(--color-background-light);display:grid;grid-template-columns:auto 1fr}.info-card__icon{align-items:center;background:var(--color-theme);color:var(--color-text);display:flex;font-size:2.1em;height:4rem;justify-content:center;width:4rem}.info-card__body{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:5px 10px}.info-card__title{font-size:.9em;margin:0;text-transform:uppercase;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-card__value{font-weight:600;font-size:1.2em;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.exports=a},75:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,'.bot[data-v-374626da]{background:var(--color-background-light);border-radius:0 0 4px 4px;border-top:3px solid var(--color-status);display:grid;grid-template-areas:"avatar meta buttons";grid-template-columns:min-content 1fr auto;padding:.5em;transition:border .3s}.bot__avatar[data-v-374626da]{cursor:pointer;display:block;height:2.25em;padding-right:.5em;width:2.25em}.bot__status[data-v-374626da]{cursor:pointer;display:flex;flex-direction:column;overflow:hidden}.bot__status-property[data-v-374626da]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bot__status-property--name[data-v-374626da]{font-weight:600}.bot__status-property--text[data-v-374626da]{font-size:.8em;font-style:italic}.bot__actions[data-v-374626da]{align-items:center;display:flex;grid-area:buttons;justify-content:space-around}.bot__action[data-v-374626da]{color:var(--color-text-disabled);cursor:pointer;display:block;padding:.5em;transition:color .3s}.bot__action[data-v-374626da]:hover{color:var(--color-text-dark)}.app--dark-mode .bot__action[data-v-374626da]:hover{color:var(--color-text)}',""]),t.exports=a},1636:(t,e,o)=>{var s=o(1601),a=o(6314)(s);a.push([t.id,".bots-overview{display:grid;grid-gap:1rem;grid-template-columns:1fr;grid-template-rows:min-content min-content}",""]),t.exports=a},4398:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>k});var s=function(){var t=this,e=t._self._c;return e("main",{staticClass:"main-container main-container--fullheight bots-overview"},[e("AsfFarmingInfo"),t._v(" "),e("AsfBots"),t._v(" "),e("AsfBotsFilter")],1)};s._withStripped=!0;var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-cards"},[e("AsfFarmingInfoCard",{attrs:{title:t.$t("farming-info-games"),value:t.gamesRemaining,icon:"gamepad"}}),t._v(" "),e("AsfFarmingInfoCard",{attrs:{title:t.$t("farming-info-time"),value:t.timeRemaining,icon:"clock"}}),t._v(" "),e("AsfFarmingInfoCard",{attrs:{title:t.$t("farming-info-cards"),value:t.cardsRemaining,icon:"clone"}})],1)};a._withStripped=!0;var i=o(5353),n=o(6123),r=o.n(n),l=o(5670),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-card"},[e("div",{staticClass:"info-card__icon"},[e("FontAwesomeIcon",{attrs:{icon:t.icon}})],1),t._v(" "),e("div",{staticClass:"info-card__body"},[e("p",{staticClass:"info-card__title"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),e("p",{staticClass:"info-card__value"},[t._v("\n      "+t._s(t.value)+"\n    ")])])])};c._withStripped=!0;const d={name:"AsfFarmingInfoCard",props:{icon:String,value:{},title:String}};o(8194);var u=o(4486);const p={name:"AsfFarmingInfo",components:{AsfFarmingInfoCard:(0,u.A)(d,c,[],!1,null,null,null).exports},computed:{...(0,i.L8)({botsFarmingCount:"bots/botsFarmingCount"}),timeRemaining(){if(0===this.botsFarmingCount)return"-";const t=(0,l.A)();return r()(1e3*this.$store.getters["bots/timeRemaining"],{language:t})},gamesRemaining(){return 0===this.botsFarmingCount?"-":this.$store.getters["bots/gamesRemaining"]},cardsRemaining(){return 0===this.botsFarmingCount?"-":this.$store.getters["bots/cardsRemaining"]}}};o(1240);const m=(0,u.A)(p,a,[],!1,null,null,null).exports;var b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bots"},[t._l(t.visibleBots,(function(t){return e("BotCard",{key:t.name,attrs:{bot:t}})})),t._v(" "),e("router-link",{attrs:{custom:"",to:{name:"bot-create"}},scopedSlots:t._u([{key:"default",fn:function({navigate:o}){return[e("div",{staticClass:"bot-placeholder status--disabled",class:{"bot-placeholder--big":t.selectedButtonsCount>2},on:{click:o}},[e("div",{staticClass:"bot-placeholder__button bot-placeholder__button--add"},[e("FontAwesomeIcon",{staticClass:"bot-placeholder__icon",attrs:{icon:"plus"}}),t._v(" "),e("span",{staticClass:"bot-placeholder__name"},[t._v(t._s(t.$t("bot-new")))])],1)])]}}])})],2)};b._withStripped=!0;var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bot",class:[`status--${t.bot.status}`]},["0"!==t.bot.steamid?e("a",{attrs:{target:"_blank",rel:"noreferrer noopener",href:t.bot.profileURL}},[e("img",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.bot.name,expression:"bot.name"}],staticClass:"bot__avatar",attrs:{src:t.bot.avatarURL,alt:t.bot.name}})]):e("router-link",{attrs:{custom:"",to:{name:"bot",params:{bot:t.bot.name}}},scopedSlots:t._u([{key:"default",fn:function({navigate:o}){return[e("img",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.bot.name,expression:"bot.name"}],staticClass:"bot__avatar",attrs:{src:t.bot.avatarURL},on:{click:o}})]}}])}),t._v(" "),e("router-link",{attrs:{custom:"",to:{name:"bot",params:{bot:t.bot.name}}},scopedSlots:t._u([{key:"default",fn:function({navigate:o}){return[e("div",{staticClass:"bot__status",on:{click:o}},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom-start",value:t.bot.name,expression:"bot.name",modifiers:{"bottom-start":!0}}],staticClass:"bot__status-property bot__status-property--name"},[t._v(t._s(t.bot.viewableName))]),t._v(" "),e("span",{staticClass:"bot__status-property bot__status-property--text"},[t._v(t._s(t.bot.statusText))])])]}}])}),t._v(" "),e("div",{staticClass:"bot__actions"},[t._l(t.selectedButtons,(function(o){return"pause"!==o.name?e("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t(`bot-fav-buttons-${o.name}`),expression:"$t(`bot-fav-buttons-${button.name}`)"}],key:o.name,attrs:{to:{name:`bot-${o.name}`,params:{bot:t.bot.name}}}},[e("span",{staticClass:"bot__action"},[e("FontAwesomeIcon",{attrs:{icon:o.icon}})],1)]):t._e()})),t._v(" "),t.bot.paused&&t.bot.active&&t.isPauseButtonSelected?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("bot-title-resume",{bot:t.bot.name}),expression:"$t('bot-title-resume', { bot: bot.name })"}],staticClass:"bot__action",on:{click:t.resume}},[e("FontAwesomeIcon",{attrs:{icon:"play"}})],1):t._e(),t._v(" "),!t.bot.paused&&t.bot.active&&t.isPauseButtonSelected?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("bot-title-pause",{bot:t.bot.name}),expression:"$t('bot-title-pause', { bot: bot.name })"}],staticClass:"bot__action",on:{click:t.pause}},[e("FontAwesomeIcon",{attrs:{icon:"pause"}})],1):t._e(),t._v(" "),t.bot.active?t._e():e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("bot-title-start",{bot:t.bot.name}),expression:"$t('bot-title-start', { bot: bot.name })"}],staticClass:"bot__action",on:{click:t.start}},[e("FontAwesomeIcon",{attrs:{icon:"power-off"}})],1),t._v(" "),t.bot.active?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("bot-title-stop",{bot:t.bot.name}),expression:"$t('bot-title-stop', { bot: bot.name })"}],staticClass:"bot__action",on:{click:t.stop}},[e("FontAwesomeIcon",{attrs:{icon:"power-off"}})],1):t._e()],2)],1)};f._withStripped=!0;var v=o(4434);const _=[{name:"2fa",icon:"lock"},{name:"bgr",icon:"key"},{name:"config",icon:"wrench"},{name:"pause",icon:"none"}],h={name:"BotCard",props:{bot:Object},computed:{...(0,i.L8)({favButtons:"settings/favButtons",isRunningHeadless:"asf/isRunningHeadless"}),isPauseButtonSelected(){return this.selectedButtons.filter((t=>"pause"===t.name)).length>0},selectedButtons(){return Array.from(this.favButtons.toString(2)).reverse().reduce(((t,e,o)=>("1"===e&&t.push(_[o]),t)),[])}},methods:{async pause(){try{await this.$http.botAction(this.bot.name,"pause",{permanent:!0,resumeInSeconds:0}),await this.$store.dispatch("bots/updateBot",{name:this.bot.name,paused:!0})}catch(t){this.$error(t.message)}},async resume(){try{await this.$http.botAction(this.bot.name,"resume"),await this.$store.dispatch("bots/updateBot",{name:this.bot.name,paused:!1})}catch(t){this.$error(t.message)}},async start(){try{const t=(0,v.A)(this.bot.requiredInput);if(this.isRunningHeadless&&"None"!==t)return void this.$router.push({name:"bot-input",params:{bot:this.bot.name,type:t}});await this.$http.botAction(this.bot.name,"start"),await this.$store.dispatch("bots/updateBot",{name:this.bot.name,active:!0})}catch(t){this.$error(t.message)}},async stop(){try{await this.$http.botAction(this.bot.name,"stop"),await this.$store.dispatch("bots/updateBot",{name:this.bot.name,active:!1})}catch(t){this.$error(t.message)}}}};o(514);const g=(0,u.A)(h,f,[],!1,null,"374626da",null).exports;var w=o(7825);const x={name:"AsfBots",components:{BotCard:g},computed:{...(0,i.L8)({bots:"bots/bots",selectedBots:"settings/selectedBots",favButtons:"settings/favButtons",orderDisabledBotsLast:"settings/orderDisabledBotsLast",orderBotsNumeric:"settings/orderBotsNumeric"}),selectedButtonsCount(){return Array.from(this.favButtons.toString(2)).length},visibleBots(){const t=this.bots.filter((t=>t.isVisible(this.selectedBots))).sort(this.sortDefault());return this.orderDisabledBotsLast?t.sort(this.sortByStatus()):t}},methods:{sortDefault(){if(this.orderBotsNumeric)return function(t,e){return t.name-e.name}},sortByStatus:()=>function(t,e){return t.status===e.status?0:t.status===w.u.DISABLED?1:e.status===w.u.DISABLED||t.status===w.u.FARMING?-1:e.status===w.u.FARMING?1:t.status===w.u.ONLINE?-1:1}}};o(3674);const y=(0,u.A)(x,b,[],!1,null,null,null).exports;var B=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"bot-filter container"},[t._v("\n  "+t._s(t.infoText)+"\n  "),e("a",{staticClass:"bot-filter__reset",on:{click:function(e){return t.resetSelectedBots()}}},[t._v(t._s(t.$t("bot-filter-reset")))])]):t._e()};B._withStripped=!0;const A={name:"AsfBotsFilter",computed:{...(0,i.L8)({bots:"bots/bots",selectedBots:"settings/selectedBots"}),filteredBots(){return this.bots.filter((t=>t.isVisible(this.selectedBots)))},isVisible(){return 0!==this.selectedBots.length},infoText(){return this.$t("bot-filter-info",{n:this.filteredBots.length,total:this.bots.length})}},methods:{resetSelectedBots(){this.$store.dispatch("settings/setSelectedBots",[])}}};o(2063);const C={name:"BotsOverview",metaInfo(){return{title:this.$t("bots")}},components:{AsfBots:y,AsfFarmingInfo:m,AsfBotsFilter:(0,u.A)(A,B,[],!1,null,null,null).exports}};o(2423);const k=(0,u.A)(C,s,[],!1,null,null,null).exports},3674:(t,e,o)=>{var s=o(7679);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("5c19547e",s,!1,{})},2063:(t,e,o)=>{var s=o(1266);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("79b12dd1",s,!1,{})},1240:(t,e,o)=>{var s=o(216);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("3b72894d",s,!1,{})},8194:(t,e,o)=>{var s=o(8377);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("1bb84dc0",s,!1,{})},514:(t,e,o)=>{var s=o(75);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("110cbf9c",s,!1,{})},2423:(t,e,o)=>{var s=o(1636);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,o(534).A)("7467aefb",s,!1,{})}}]);