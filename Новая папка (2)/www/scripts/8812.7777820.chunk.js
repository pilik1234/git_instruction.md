(self.webpackChunkasf_ui=self.webpackChunkasf_ui||[]).push([[8812],{3909:(t,e,a)=>{"use strict";a.d(e,{Dz:()=>r,Pk:()=>o,WL:()=>i,ej:()=>s});var n=a(5471);const r=[{name:n.Ay.i18n.translate("basic"),fields:["SteamOwnerID"]},{name:n.Ay.i18n.translate("trade"),fields:["MaxTradeHoldDuration","FilterBadBots","LicenseID"]},{name:n.Ay.i18n.translate("customization"),fields:["AutoRestart","Blacklist","CommandPrefix","CurrentCulture","SteamMessagePrefix"]},{name:n.Ay.i18n.translate("remote-access"),fields:["Headless","IPC","IPCPassword","IPCPasswordFormat"]},{name:n.Ay.i18n.translate("connection"),fields:["ConnectionTimeout","SteamProtocols","WebProxy","WebProxyPassword","WebProxyUsername"]},{name:n.Ay.i18n.translate("farming"),fields:["FarmingDelay","IdleFarmingPeriod","MaxFarmingTime","MinFarmingDelayAfterBlock"]},{name:n.Ay.i18n.translate("performance"),fields:["OptimizationMode","ConfirmationsLimiterDelay","GiftsLimiterDelay","InventoryLimiterDelay","LoginLimiterDelay","WebLimiterDelay"]},{name:n.Ay.i18n.translate("updates"),fields:["UpdateChannel","UpdatePeriod"]},{name:n.Ay.i18n.translate("advanced"),fields:["Debug","DefaultBot"]}],s=[{name:n.Ay.i18n.translate("basic"),fields:["Name","SteamLogin","SteamPassword","Enabled","OnlineStatus","BotBehaviour"]},{name:n.Ay.i18n.translate("security"),fields:["PasswordFormat","UseLoginKeys"]},{name:n.Ay.i18n.translate("access"),fields:["SteamUserPermissions","SteamParentalCode"]},{name:n.Ay.i18n.translate("trade"),fields:["SteamTradeToken","AcceptGifts","TradeCheckPeriod","SendTradePeriod","CompleteTypesToSend","TradingPreferences","LootableTypes","TransferableTypes","MatchableTypes"]},{name:n.Ay.i18n.translate("farming"),fields:["FarmingPreferences","FarmingOrders"]},{name:n.Ay.i18n.translate("customization"),fields:["RemoteCommunication","SteamMasterClanID","UserInterfaceMode","OnlineFlags","RedeemingPreferences","GamesPlayedWhileIdle","CustomGamePlayedWhileFarming","CustomGamePlayedWhileIdle"]},{name:n.Ay.i18n.translate("performance"),fields:["HoursUntilCardDrops"]}],i=[{name:n.Ay.i18n.translate("basic"),fields:["Name","SteamLogin","SteamPassword"]}],o=[{name:n.Ay.i18n.translate("general"),fields:[n.Ay.i18n.translate("default-page"),n.Ay.i18n.translate("notification-position"),n.Ay.i18n.translate("notify-release"),n.Ay.i18n.translate("display-categories"),n.Ay.i18n.translate("tooltip-delay")]},{name:n.Ay.i18n.translate("bots"),fields:[n.Ay.i18n.translate("bot-nicknames"),n.Ay.i18n.translate("bot-game-name"),n.Ay.i18n.translate("bot-order-numeric"),n.Ay.i18n.translate("bot-order-disabled"),n.Ay.i18n.translate("bot-fav-buttons")]},{name:n.Ay.i18n.translate("commands"),fields:[n.Ay.i18n.translate("timestamps")]},{name:n.Ay.i18n.translate("log"),fields:[n.Ay.i18n.translate("log-previous-amount"),n.Ay.i18n.translate("log-information"),n.Ay.i18n.translate("log-timestamp")]}]},234:(t,e,a)=>{"use strict";function n(t){const e=document.implementation.createHTMLDocument().createElement("html");return e.innerHTML=t,e}a.d(e,{A:()=>n})},6011:(t,e,a)=>{"use strict";a.d(e,{V:()=>s,f:()=>i});const n=/"s_(\w+)":\s*"(\d+)"/g;function r(t,e,a,r){const s=document.createElement("a"),i=e?(o=t,JSON.stringify(o,null,2).replace(n,'"$1":$2')):t.join("\n");var o;s.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(i)}`),s.setAttribute("download",`${a}.${r}`),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function s(t,e){r(t,!0,e,"json")}function i(t){r(t,!1,"log","txt")}},3590:(t,e,a)=>{"use strict";a.d(e,{A:()=>m});var n=a(5896);const r=new Map,s=new Map,i=/\[[^\]]+]/g;async function o(t){if(s.has(t))return s.get(t);const e=n.Jt(`structure/${encodeURIComponent(t)}`);return s.set(t,e),e}async function c(t){const e=function(t){const e=t.match(i);return e?e.map((t=>t.slice(1,t.length-1))):[]}(t);switch(t.split("`")[0]){case"System.Boolean":return{type:"boolean"};case"System.String":case"System.Guid":return{type:"string"};case"System.Byte":return{type:"byte"};case"System.UInt32":return{type:"uint32"};case"System.UInt16":return{type:"uint16"};case"System.Collections.Generic.HashSet":case"System.Collections.Immutable.ImmutableHashSet":return{type:"hashSet",values:await c(e[0])};case"System.Collections.Immutable.ImmutableList":return{type:"list",values:await c(e[0])};case"System.UInt64":return{type:"uint64"};case"System.Collections.Generic.Dictionary":case"System.Collections.Immutable.ImmutableDictionary":return{type:"dictionary",key:await c(e[0]),value:await c(e[1])};case"System.Nullable":const{type:a}=await c(e[0]);return{type:a,nullable:!0};default:return u(t)}}function l(t){const e={};return Object.keys(t).forEach((a=>{e[a]=parseInt(t[a],10)})),e}async function u(t){"ArchiSteamFarm.Steam.Storage.BotConfig"===t&&o(t);const e=await async function(t){if(r.has(t))return r.get(t);const e=n.Jt(`type/${encodeURIComponent(t)}`);return r.set(t,e),e}(t);switch(e.Properties.BaseType){case"System.Object":return async function(t,e){const a={type:"object",body:{}},[n,r]=await Promise.all([o(t),Promise.all(Object.keys(e.Body).map((async t=>({param:t,type:await c(e.Body[t])}))))]);return r.forEach((t=>{const{param:r,type:s}=t,i="System.UInt64"!==e.Body[r]?r:`s_${r}`;a.body[r]={defaultValue:n[r],paramName:i,param:r,...s}})),a}(t,e);case"System.Enum":return{type:(e.Properties.CustomAttributes||[]).includes("System.FlagsAttribute")?"flag":"enum",values:l(e.Body)};default:return{type:"unknown",typeDefinition:e,structureDefinition:await o(t)}}}const m=u},3367:(t,e,a)=>{"use strict";a.d(e,{A:()=>s});var n=a(5896),r=a(9118);async function s(t,e,a){const s=await async function(t,e,a){const s=(0,r.A)(a),i=`www/github/wiki/page/${t}${s}`;if(!e)return i;if(e>=(await n.Jt("www/github/release")).Version)return i;const o=await n.Jt(`www/github/release/${e}`),c=new Date(o.ReleasedAt),l=await n.Jt(`www/github/wiki/history/${t}${s}`),u=Object.entries(l).map((t=>({id:t[0],releaseTime:new Date(t[1])})));u.sort(((t,e)=>new Date(e.releaseTime)-new Date(t.releaseTime)));const m=u.find((({releaseTime:t})=>t<c));return m?`${i}?revision=${m.id}`:i}(t,e,a);return n.Jt(s)}},9118:(t,e,a)=>{"use strict";function n(t){return"en-US"!==t?`-${t}`:""}a.d(e,{A:()=>n})},9067:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var n=a(6996);function r(t,e){for(const[a]of Object.entries(t)){let r=!1;if(r="object"==typeof e[a]?!(0,n.A)(e[a],t[a]):a.startsWith("s_")?e[a]!==t[a].toString():e[a]!==t[a],r)return!1}return!0}},6767:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var n=a(3367),r=a(9118),s=a(2822),i=a(234);async function o(t,e){const a=s.Jt(`cache:parameter-descriptions:${e}`);if(a){const{timestamp:t,descriptions:e}=a;if(t>Date.now()-216e5)return e}const o={},l=await(0,n.A)("Configuration",t,e),u=(0,i.A)(l);return Array.from(u.querySelectorAll("h3 > code")).forEach((t=>{const a=t.innerText,n=[];let s=t.parentElement.parentElement.nextElementSibling;for(;s&&"hr"!==s.tagName.toLowerCase();)c(s.querySelectorAll('a[href^="#"]'),"Configuration",(0,r.A)(e)),n.push(s.outerHTML),s=s.nextElementSibling;o[a]=n.join(" ")})),s.hZ(`cache:parameter-descriptions:${e}`,{timestamp:Date.now(),descriptions:o}),o}function c(t,e,a){t.forEach((t=>{t&&(t.setAttribute("href",`https://github.com/JustArchiNET/ArchiSteamFarm/wiki/${e}${a}${t.hash}`),t.setAttribute("target","_blank"))}))}},6276:(t,e,a)=>{var n=a(1601),r=a(6314)(n);r.push([t.id,".main-container--bot-config{max-width:1000px}",""]),t.exports=r},6431:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>d});var n=function(){var t=this,e=t._self._c;return t.bot?e("main",{staticClass:"main-container main-container--bot-config"},[e("h2",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.bot.name,expression:"bot.name"}],staticClass:"title"},[t._v(t._s(t.bot.viewableName))]),t._v(" "),t.loading?e("h3",{staticClass:"subtitle"},[e("FontAwesomeIcon",{attrs:{icon:"spinner",size:"lg",spin:""}})],1):e("div",{staticClass:"container"},[e("ConfigEditor",{attrs:{fields:t.fields,model:t.model,categories:t.displayCategories?t.categories:null,deleteDefaultValues:!1}}),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-item__buttons"},[e("button",{staticClass:"button button--confirm",on:{click:t.onSave}},[t.saving?e("FontAwesomeIcon",{attrs:{icon:"spinner",spin:""}}):e("span",[t._v(t._s(t.$t("save")))])],1),t._v(" "),e("router-link",{attrs:{custom:"",to:{name:"bot-copy",params:{bot:t.bot.name}}},scopedSlots:t._u([{key:"default",fn:function({navigate:a}){return[e("button",{staticClass:"button button--confirm",on:{click:a}},[t._v(t._s(t.$t("bot-copy")))])]}}],null,!1,64561345)}),t._v(" "),e("button",{staticClass:"button button--link pull-right",on:{click:t.onDownload}},[t._v("\n          "+t._s(t.$t("download-raw-config"))+"\n        ")])],1)])],1)]):t._e()};n._withStripped=!0;var r=a(5353),s=a(9872),i=a(3590),o=a(6767),c=a(6011),l=a(3909),u=a(9067);const m={name:"BotConfig",components:{ConfigEditor:s.A},data:()=>({loading:!1,saving:!1,fields:[],model:{},categories:l.ej}),computed:{...(0,r.L8)({version:"asf/version",displayCategories:"settings/displayCategories",bots:"bots/bots"}),bot(){return this.$store.getters["bots/bot"](this.$route.params.bot)}},watch:{$route:{immediate:!0,async handler(){this.bot&&await this.loadConfig()}}},created(){this.bot||this.$router.replace({name:"bots"})},methods:{async loadConfig(){if(!this.loading){this.loading=!0;try{const[{body:t},{[this.bot.name]:{BotConfig:e}},a]=await Promise.all([(0,i.A)("ArchiSteamFarm.Steam.Storage.BotConfig"),this.$http.get(`bot/${this.bot.name}`),(0,o.A)(this.version,this.$i18n.locale)]);Object.keys(e).forEach((t=>{t.startsWith("s_")&&delete e[t.substr(2)]})),this.model=e,0!==Object.keys(this.$route.params).length&&(this.model.SteamPassword=this.$route.params?.steamPassword,this.model.PasswordFormat=this.$route.params?.passwordFormat);const n={SteamLogin:{placeholder:this.$t("keep-unchanged")},SteamPassword:{placeholder:this.$t("keep-unchanged")},SteamParentalCode:{placeholder:this.$t("keep-unchanged")}};this.fields=Object.keys(t).map((e=>({description:a[e]?a[e].replace(/<a href="/g,'<a target="_blank" rel="noreferrer noopener" href="'):this.$t("description-not-found"),...t[e],...n[e]||[]})))}catch(t){this.$error(t.message)}finally{this.loading=!1}}},async onSave(){if(!this.saving)if("ASF"!==this.model.Name){this.saving=!0;try{const{[this.bot.name]:{BotConfig:t}}=await this.$http.get(`bot/${this.bot.name}`);if((0,u.A)(this.model,t))return void this.$info(this.$t("config-no-changes"));await this.$http.post(`bot/${this.bot.name}`,{botConfig:this.model}),this.$parent.back()}catch(t){this.$error(t.message)}finally{this.saving=!1}}else this.$error(this.$t("bot-create-name-asf"))},async onDownload(){(0,c.V)(this.model,this.bot.name)}}};a(5027);const d=(0,a(4486).A)(m,n,[],!1,null,null,null).exports},5027:(t,e,a)=>{var n=a(6276);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(534).A)("21096bb2",n,!1,{})},5407:(t,e,a)=>{"use strict";a.d(e,{A:()=>j});var n=a(2080),r=a(2050);function s(t){var e=-1,a=null==t?0:t.length;for(this.__data__=new r.A;++e<a;)this.add(t[e])}s.prototype.add=s.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},s.prototype.has=function(t){return this.__data__.has(t)};const i=s,o=function(t,e){for(var a=-1,n=null==t?0:t.length;++a<n;)if(e(t[a],a,t))return!0;return!1},c=function(t,e,a,n,r,s){var c=1&a,l=t.length,u=e.length;if(l!=u&&!(c&&u>l))return!1;var m=s.get(t),d=s.get(e);if(m&&d)return m==e&&d==t;var f=-1,y=!0,h=2&a?new i:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var p=t[f],b=e[f];if(n)var g=c?n(b,p,f,e,t,s):n(p,b,f,t,e,s);if(void 0!==g){if(g)continue;y=!1;break}if(h){if(!o(e,(function(t,e){if(i=e,!h.has(i)&&(p===t||r(p,t,a,n,s)))return h.push(e);var i}))){y=!1;break}}else if(p!==b&&!r(p,b,a,n,s)){y=!1;break}}return s.delete(t),s.delete(e),y};var l=a(241),u=a(3988),m=a(6984);const d=function(t){var e=-1,a=Array(t.size);return t.forEach((function(t,n){a[++e]=[n,t]})),a},f=function(t){var e=-1,a=Array(t.size);return t.forEach((function(t){a[++e]=t})),a};var y=l.A?l.A.prototype:void 0,h=y?y.valueOf:void 0;var p=a(9042),b=Object.prototype.hasOwnProperty;var g=a(2434),A=a(2049),v=a(1200),w=a(4749),S="[object Arguments]",C="[object Array]",_="[object Object]",$=Object.prototype.hasOwnProperty;const P=function(t,e,a,r,s,i){var o=(0,A.A)(t),l=(0,A.A)(e),y=o?C:(0,g.A)(t),P=l?C:(0,g.A)(e),k=(y=y==S?_:y)==_,j=(P=P==S?_:P)==_,D=y==P;if(D&&(0,v.A)(t)){if(!(0,v.A)(e))return!1;o=!0,k=!1}if(D&&!k)return i||(i=new n.A),o||(0,w.A)(t)?c(t,e,a,r,s,i):function(t,e,a,n,r,s,i){switch(a){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new u.A(t),new u.A(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,m.A)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var o=d;case"[object Set]":var l=1&n;if(o||(o=f),t.size!=e.size&&!l)return!1;var y=i.get(t);if(y)return y==e;n|=2,i.set(t,e);var p=c(o(t),o(e),n,r,s,i);return i.delete(t),p;case"[object Symbol]":if(h)return h.call(t)==h.call(e)}return!1}(t,e,y,a,r,s,i);if(!(1&a)){var I=k&&$.call(t,"__wrapped__"),T=j&&$.call(e,"__wrapped__");if(I||T){var L=I?t.value():t,O=T?e.value():e;return i||(i=new n.A),s(L,O,a,r,i)}}return!!D&&(i||(i=new n.A),function(t,e,a,n,r,s){var i=1&a,o=(0,p.A)(t),c=o.length;if(c!=(0,p.A)(e).length&&!i)return!1;for(var l=c;l--;){var u=o[l];if(!(i?u in e:b.call(e,u)))return!1}var m=s.get(t),d=s.get(e);if(m&&d)return m==e&&d==t;var f=!0;s.set(t,e),s.set(e,t);for(var y=i;++l<c;){var h=t[u=o[l]],g=e[u];if(n)var A=i?n(g,h,u,e,t,s):n(h,g,u,t,e,s);if(!(void 0===A?h===g||r(h,g,a,n,s):A)){f=!1;break}y||(y="constructor"==u)}if(f&&!y){var v=t.constructor,w=e.constructor;v==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(t),s.delete(e),f}(t,e,a,r,s,i))};var k=a(3098);const j=function t(e,a,n,r,s){return e===a||(null==e||null==a||!(0,k.A)(e)&&!(0,k.A)(a)?e!=e&&a!=a:P(e,a,n,r,t,s))}},6996:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var n=a(5407);const r=function(t,e){return(0,n.A)(t,e)}}}]);